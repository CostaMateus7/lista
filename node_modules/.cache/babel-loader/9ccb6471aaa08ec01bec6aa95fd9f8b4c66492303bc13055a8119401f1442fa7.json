{"ast":null,"code":"import _regeneratorRuntime from\"/home/mateus/Documentos/programacao/treinoReact/To-do-list/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/mateus/Documentos/programacao/treinoReact/To-do-list/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _toConsumableArray from\"/home/mateus/Documentos/programacao/treinoReact/To-do-list/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/mateus/Documentos/programacao/treinoReact/To-do-list/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import Form from'../Form';import List from'../List';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Main(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),list=_useState2[0],setList=_useState2[1];var _useState3=useState({id:Math.random(),title:'',isComplete:false,update:-1}),_useState4=_slicedToArray(_useState3,2),todo=_useState4[0],setTodo=_useState4[1];useEffect(function(){var listLocalStorage=localStorage.getItem('list');if(listLocalStorage){setList(JSON.parse(listLocalStorage));}},[]);var handleDeleteTodo=function handleDeleteTodo(index){var copyList=_toConsumableArray(list);copyList.splice(index,1);setList(copyList);localStorage.removeItem('list');if(copyList!==[]){localStorage.setItem('list',JSON.stringify(copyList));}};var handleChange=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var copy,copyList,index;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(todo.title.trim()==='')){_context.next=2;break;}return _context.abrupt(\"return\");case 2:if(todo.update===-1){copy=[].concat(_toConsumableArray(list),[todo]);setList(copy);setTodo({id:Math.random(),title:'',isComplete:false,update:-1});localStorage.setItem('list',JSON.stringify(copy));}else{copyList=_toConsumableArray(list);index=todo.update;copyList[index]=todo;setList(copyList);setTodo({id:Math.random(),title:'',isComplete:false,update:-1});localStorage.setItem('list',JSON.stringify(copyList));}case 3:case\"end\":return _context.stop();}}},_callee);}));return function handleChange(){return _ref.apply(this,arguments);};}();var handleCheckTodo=function handleCheckTodo(index){var copyList=_toConsumableArray(list);copyList[index].isComplete=!copyList[index].isComplete;setList(copyList);localStorage.setItem('list',JSON.stringify(list));};var handleUpdate=function handleUpdate(index){var copyList=_toConsumableArray(list);setTodo({id:todo.id,title:copyList[index].title,isComplete:false,update:index});};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Form,{handleChange:handleChange,todoTitle:todo.title,todoUpdate:todo.update,setTodo:setTodo}),/*#__PURE__*/_jsx(List,{handleCheckTodo:handleCheckTodo,handleDeleteTodo:handleDeleteTodo,handleUpdate:handleUpdate,list:list})]});}","map":{"version":3,"names":["React","useEffect","useState","Form","List","Main","list","setList","id","Math","random","title","isComplete","update","todo","setTodo","listLocalStorage","localStorage","getItem","JSON","parse","handleDeleteTodo","index","copyList","splice","removeItem","setItem","stringify","handleChange","trim","copy","handleCheckTodo","handleUpdate"],"sources":["/home/mateus/Documentos/programacao/treinoReact/To-do-list/src/components/Main/index.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Form from '../Form';\nimport List from '../List';\n\nexport default function Main() {\n  const [list, setList] = useState([]);\n  const [todo, setTodo] = useState({\n    id: Math.random(),\n    title: '',\n    isComplete: false,\n    update: -1,\n  });\n  useEffect(() => {\n    const listLocalStorage = localStorage.getItem('list');\n    if (listLocalStorage) {\n      setList(JSON.parse(listLocalStorage));\n    }\n  }, []);\n\n  const handleDeleteTodo = (index) => {\n    const copyList = [...list];\n    copyList.splice(index, 1);\n    setList(copyList);\n    localStorage.removeItem('list');\n    if (copyList !== []) {\n      localStorage.setItem('list', JSON.stringify(copyList));\n    }\n  };\n\n  const handleChange = async () => {\n    if ((todo.title).trim() === '') {\n      return;\n    }\n    if ((todo.update) === -1) {\n      const copy = [...list, todo];\n      setList(copy);\n      setTodo({\n        id: Math.random(),\n        title: '',\n        isComplete: false,\n        update: -1,\n      });\n      localStorage.setItem('list', JSON.stringify(copy));\n    } else {\n      const copyList = [...list];\n      const index = todo.update;\n      copyList[index] = todo;\n      setList(copyList);\n      setTodo({\n        id: Math.random(),\n        title: '',\n        isComplete: false,\n        update: -1,\n      });\n      localStorage.setItem('list', JSON.stringify(copyList));\n    }\n  };\n\n  const handleCheckTodo = (index) => {\n    const copyList = [...list];\n    copyList[index].isComplete = !copyList[index].isComplete;\n    setList(copyList);\n    localStorage.setItem('list', JSON.stringify(list));\n  };\n\n  const handleUpdate = (index) => {\n    const copyList = [...list];\n    setTodo({\n      id: todo.id,\n      title: copyList[index].title,\n      isComplete: false,\n      update: index,\n    });\n  };\n\n  return (\n    <div className=\"container\">\n      <Form\n        handleChange={handleChange}\n        todoTitle={todo.title}\n        todoUpdate={todo.update}\n        setTodo={setTodo}\n      />\n      <List\n        handleCheckTodo={handleCheckTodo}\n        handleDeleteTodo={handleDeleteTodo}\n        handleUpdate={handleUpdate}\n        list={list}\n      />\n    </div>\n\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}